# 🔍 프로젝트 심층 분석

이 문서는 DbManager 프로젝트의 본질과 핵심 가치를 깊이 있게 분석합니다.

**분석 일자**: 2024-12-12

---

## 📋 목차

1. [프로젝트 본질](#프로젝트-본질)
2. [핵심 비즈니스 도메인](#핵심-비즈니스-도메인)
3. [데이터 모델과 관계](#데이터-모델과-관계)
4. [주요 사용 사례](#주요-사용-사례)
5. [아키텍처 특징](#아키텍처-특징)
6. [기술적 특징](#기술적-특징)
7. [프로젝트의 가치](#프로젝트의-가치)

---

## 프로젝트 본질

### 한 줄 요약

**"한국어 표준 용어를 기반으로 데이터베이스 용어(컬럼명, 도메인명)를 체계적으로 생성하고 관리하는 시스템"**

### 핵심 목적

이 프로젝트는 **데이터 표준화**와 **용어 일관성**을 보장하기 위한 도구입니다.

#### 해결하는 문제

1. **용어 불일치 문제**
   - 같은 개념을 다른 이름으로 표현하는 문제
   - 예: "사용자" vs "유저" vs "회원"
   - 예: "USER" vs "MEMBER" vs "ACCOUNT"

2. **표준 용어 관리의 어려움**
   - 표준 용어집을 수동으로 관리하는 번거로움
   - 용어 간 매핑 관계 추적의 어려움
   - 도메인 표준과의 동기화 문제

3. **데이터베이스 설계 시 용어 생성의 어려움**
   - 한국어 용어를 영문 컬럼명으로 변환하는 과정의 복잡성
   - 여러 가능한 조합 중 적절한 선택의 어려움
   - 표준 용어집과의 일치 여부 확인의 어려움

### 타겟 사용자

- **데이터 아키텍트**: 데이터 표준화 및 용어 관리
- **데이터베이스 설계자**: 표준 용어 기반 컬럼명/도메인명 생성
- **개발자**: 일관된 용어 사용을 위한 참조 도구
- **데이터 관리자**: 용어집 및 도메인 표준 관리

---

## 핵심 비즈니스 도메인

### 1. Vocabulary (단어집)

**정의**: 한국어 표준 용어와 그에 대응하는 영문 약어/전체명을 관리하는 사전

**핵심 개념**:

- **표준단어명** (`standardName`): 한국어 표준 용어 (예: "사용자")
- **영문약어** (`abbreviation`): 데이터베이스 컬럼명에 사용 (예: "USER")
- **영문명** (`englishName`): 전체 영문명 (예: "User")

**특징**:

- 다중 파일 지원 (여러 단어집 파일 관리)
- 도메인 분류와의 매핑 (`domainCategory`, `domainGroup`)
- 금지어 관리 (`forbiddenWords`)
- 이음동의어 관리 (`synonyms`)
- 중복 검사 (`duplicateInfo`)

**비즈니스 가치**:

- 표준 용어의 중앙 집중식 관리
- 용어 일관성 보장
- 용어 재사용 촉진

### 2. Domain (도메인)

**정의**: 공통표준도메인 정보를 관리하는 표준 도메인 사전

**핵심 개념**:

- **도메인 그룹** (`domainGroup`): 공통표준도메인그룹명 (예: "공통표준도메인그룹")
- **도메인 분류** (`domainCategory`): 공통표준도메인분류명 (예: "사용자분류")
- **표준 도메인명** (`standardDomainName`): 계산된 값 (예: "공통표준도메인그룹\_사용자분류")
- **물리 데이터 타입** (`physicalDataType`): VARCHAR, INT 등

**특징**:

- 단어집의 `domainCategory`와 매핑하여 `domainGroup` 자동 설정
- 데이터 타입, 길이, 형식 등 상세 정보 관리

**비즈니스 가치**:

- 도메인 표준의 중앙 관리
- 단어집과 도메인 간 자동 동기화
- 데이터 타입 표준화

### 3. Term (용어)

**정의**: 실제 데이터베이스에서 사용할 용어명, 컬럼명, 도메인명을 조합한 최종 용어

**핵심 개념**:

- **용어명** (`termName`): 한국어 용어 (예: "사용자\_이름")
- **컬럼명** (`columnName`): 영문 컬럼명 (예: "USER_NAME")
- **도메인명** (`domainName`): 표준 도메인명 (예: "공통표준도메인그룹\_사용자분류")

**특징**:

- Vocabulary와 Domain을 참조하여 생성
- 매핑 검증 (`isMappedTerm`, `isMappedColumn`, `isMappedDomain`)
- 언더스코어(`_`)로 분리된 각 단어가 단어집에 존재하는지 검증

**비즈니스 가치**:

- 표준 용어 기반 데이터베이스 설계
- 용어 일관성 자동 검증
- 매핑 상태 추적

---

## 데이터 모델과 관계

### 핵심 관계 다이어그램

```
┌─────────────────┐
│  Vocabulary     │ (단어집)
│  - standardName │
│  - abbreviation │
│  - domainCategory│
└────────┬────────┘
         │
         │ domainCategory 매핑
         │
┌────────▼────────┐
│    Domain       │ (도메인)
│  - domainGroup  │
│  - domainCategory│
│  - standardDomainName│
└─────────────────┘
         │
         │
         │ 참조
         │
┌────────▼────────┐
│     Term        │ (용어)
│  - termName     │ ← Vocabulary.standardName 참조
│  - columnName   │ ← Vocabulary.abbreviation 참조
│  - domainName   │ ← Domain.standardDomainName 참조
└─────────────────┘
```

### 관계 상세

#### 1. Vocabulary ↔ Domain (N:M)

**매핑 방식**:

- `VocabularyEntry.domainCategory` ↔ `DomainEntry.domainCategory`
- 매핑 성공 시 `VocabularyEntry.domainGroup`에 `DomainEntry.domainGroup` 자동 설정
- `VocabularyEntry.isDomainCategoryMapped` 플래그로 매핑 상태 표시

**동기화 API**: `POST /api/vocabulary/sync-domain`

**비즈니스 의미**:

- 단어집의 각 단어가 어떤 도메인 분류에 속하는지 명시
- 도메인 표준 변경 시 단어집 자동 업데이트

#### 2. Vocabulary → Term (1:N)

**매핑 방식**:

- `TermEntry.termName` → `VocabularyEntry.standardName` (언더스코어 분리 후 각 단어 검증)
- `TermEntry.columnName` → `VocabularyEntry.abbreviation` (언더스코어 분리 후 각 단어 검증)

**매핑 검증 로직**:

```typescript
// termName: "사용자_이름" → ["사용자", "이름"] 각각이 VocabularyEntry.standardName에 존재해야 함
// columnName: "USER_NAME" → ["USER", "NAME"] 각각이 VocabularyEntry.abbreviation에 존재해야 함
```

**비즈니스 의미**:

- 모든 용어가 표준 용어집 기반으로 생성됨을 보장
- 비표준 용어 사용 방지

#### 3. Domain → Term (1:N)

**매핑 방식**:

- `TermEntry.domainName` → `DomainEntry.standardDomainName` (정확히 일치)

**비즈니스 의미**:

- 모든 용어가 표준 도메인을 사용함을 보장
- 도메인 표준 준수

---

## 주요 사용 사례

### Use Case 1: 표준 용어 등록 및 관리

**시나리오**:

1. 데이터 아키텍트가 새로운 표준 용어를 등록
2. 한국어 표준명, 영문약어, 영문명 입력
3. 도메인 분류명 지정
4. 금지어 및 이음동의어 설정

**결과**:

- 표준 용어집에 용어 추가
- 도메인과 자동 매핑
- 다른 용어 생성 시 재사용 가능

### Use Case 2: 용어 자동 생성 (Term Generator)

**시나리오**:

1. 개발자가 한국어 용어 입력 (예: "사용자 이름")
2. 시스템이 단어집을 기반으로 가능한 조합 생성
   - "사용자" → ["USER", "MEMBER", ...]
   - "이름" → ["NAME", "FIRST_NAME", ...]
3. 모든 조합 생성 (Cartesian Product)
   - "USER_NAME", "USER_FIRST_NAME", "MEMBER_NAME", ...
4. 개발자가 적절한 조합 선택
5. 도메인명 매핑 확인

**결과**:

- 표준 용어 기반 컬럼명 생성
- 여러 가능한 조합 제시
- 매핑 상태 자동 검증

### Use Case 3: 용어 검증 및 자동 수정

**시나리오**:

1. 용어 업로드 또는 생성 시 매핑 검증
2. 매핑 실패 시 원인 분석
   - 단어집에 없는 단어 발견
   - 도메인명 불일치
3. 자동 수정 제안
   - 누락된 단어를 단어집에 추가 제안
   - 유사한 단어 제안
   - 도메인명 수정 제안

**결과**:

- 용어 품질 자동 검증
- 표준 준수 자동화
- 수정 제안으로 생산성 향상

### Use Case 4: 대량 용어 업로드 및 동기화

**시나리오**:

1. Excel 파일로 대량 용어 업로드
2. 시스템이 자동으로 매핑 검증
3. 실패한 용어 목록 표시
4. 자동 수정 제안 및 일괄 적용
5. 도메인 동기화 수행

**결과**:

- 대량 용어 일괄 처리
- 품질 검증 자동화
- 표준 준수 보장

---

## 아키텍처 특징

### 1. 파일 기반 저장소

**특징**:

- 전통적인 데이터베이스 대신 JSON 파일 사용
- `static/data/` 디렉토리에 저장
- 파일별로 독립적인 데이터 관리

**장점**:

- 간단한 배포 (파일 복사만으로 백업/복원)
- 버전 관리 용이 (Git으로 추적 가능)
- 데이터베이스 설정 불필요

**단점**:

- 동시성 제어 필요 (파일 락 메커니즘 구현됨)
- 대용량 데이터 처리 제한
- 트랜잭션 없음 (원자적 쓰기 패턴으로 보완)

### 2. 다중 파일 지원

**특징**:

- Vocabulary, Domain, Term 모두 여러 파일 지원
- 파일별 독립적인 데이터 관리
- 파일 간 매핑 관계 설정

**비즈니스 의미**:

- 프로젝트별/부서별 용어집 분리 관리
- 표준 용어집과 프로젝트 용어집 구분
- 파일 단위 권한 관리 가능성

### 3. 매핑 기반 검증 시스템

**특징**:

- Vocabulary ↔ Domain: `domainCategory` 기반 자동 매핑
- Vocabulary → Term: 언더스코어 분리 후 각 단어 검증
- Domain → Term: 정확 일치 검증

**비즈니스 의미**:

- 표준 준수 자동화
- 비표준 용어 사용 방지
- 데이터 품질 보장

### 4. 히스토리 추적 시스템

**특징**:

- 모든 변경사항 히스토리 로그 기록
- 파일별 히스토리 관리 (Vocabulary만)
- 변경 전/후 데이터 저장

**비즈니스 의미**:

- 감사 추적 (Audit Trail)
- 변경 이력 추적
- 롤백 가능성

---

## 기술적 특징

### 1. SvelteKit 풀스택 프레임워크

**특징**:

- 파일 기반 라우팅
- 서버 사이드 렌더링 (SSR)
- API 라우트 통합

**장점**:

- 단일 코드베이스로 프론트엔드/백엔드 통합
- 타입 안정성 (TypeScript)
- 빠른 개발 속도

### 2. 타입 안정성 강화

**특징**:

- TypeScript로 전체 타입 정의
- 런타임 타입 검증 (`type-guards.ts`)
- 타입 가드 함수로 안전한 파싱

**비즈니스 의미**:

- 데이터 무결성 보장
- 런타임 에러 방지
- 개발자 경험 향상

### 3. 성능 최적화

**특징**:

- 메모리 캐싱 (`cache.ts`)
- 데이터 인덱싱 (`data-index.ts`)
- 페이지네이션 지원

**비즈니스 의미**:

- 대용량 데이터 처리 가능
- 빠른 검색 성능
- 확장성 확보

### 4. 파일 안전성 보장

**특징**:

- 파일 락 메커니즘 (`file-lock.ts`)
- 원자적 쓰기 패턴 (`atomicWriteFile`)
- 경로 조작 방지 (`validateFilename`)

**비즈니스 의미**:

- 데이터 손실 방지
- 동시성 문제 해결
- 보안 강화

---

## 프로젝트의 가치

### 1. 데이터 표준화

**가치**:

- 조직 전체의 용어 일관성 보장
- 데이터 품질 향상
- 유지보수 비용 감소

### 2. 생산성 향상

**가치**:

- 용어 자동 생성으로 개발 시간 단축
- 검증 자동화로 품질 관리 시간 감소
- 대량 처리로 작업 효율 향상

### 3. 지식 관리

**가치**:

- 표준 용어의 중앙 집중식 관리
- 용어 간 관계 추적
- 히스토리로 변경 이력 관리

### 4. 확장 가능성

**가치**:

- 다중 파일 지원으로 프로젝트별 관리
- API 기반으로 다른 시스템과 통합 가능
- 파일 기반으로 버전 관리 용이

---

## 프로젝트의 독특한 점

### 1. 한국어 중심의 용어 관리

대부분의 용어 관리 시스템이 영문 중심인데, 이 프로젝트는 **한국어 표준 용어를 중심**으로 설계되었습니다.

- 한국어 → 영문 변환 자동화
- 한국어 표준 용어 우선 관리
- 한국어 기반 검색 및 필터링

### 2. 매핑 기반 검증 시스템

단순한 용어 사전이 아니라, **용어 간 매핑 관계를 추적하고 검증**하는 시스템입니다.

- Vocabulary ↔ Domain 자동 매핑
- Term → Vocabulary/Domain 매핑 검증
- 매핑 실패 시 자동 수정 제안

### 3. 파일 기반의 단순함

복잡한 데이터베이스 없이 **JSON 파일만으로 모든 데이터 관리**합니다.

- 배포 간단 (파일 복사만)
- 버전 관리 용이 (Git)
- 데이터베이스 설정 불필요

### 4. 실용적인 자동화

이론적인 표준화가 아니라, **실제 개발 과정에서 사용할 수 있는 자동화**를 제공합니다.

- 용어 자동 생성 (Term Generator)
- 매핑 자동 검증
- 자동 수정 제안

---

## 결론

DbManager는 단순한 용어 관리 시스템이 아니라, **데이터 표준화와 용어 일관성을 보장하는 종합적인 플랫폼**입니다.

### 핵심 가치 제안

1. **표준 용어의 중앙 관리**: Vocabulary로 표준 용어 집중 관리
2. **자동화된 용어 생성**: Term Generator로 표준 기반 용어 자동 생성
3. **자동 검증 시스템**: 매핑 기반으로 표준 준수 자동 검증
4. **실용적인 도구**: 실제 개발 과정에서 바로 사용 가능

### 프로젝트의 정체성

**"데이터 표준화를 위한 실용적인 용어 관리 플랫폼"**

- 이론이 아닌 실전 도구
- 복잡함이 아닌 단순함
- 수동이 아닌 자동화
- 개별이 아닌 통합 관리

---

**마지막 업데이트**: 2024-12-12
